<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Member</title>
    <style>
        @import url(css/member.css) (max-width: 1399px);
        /* @import url(css/member_w14.css) (min-width: 1399px); */
    </style>
    <script src="js/alter.js"></script>
    <script>
        function show(){
        if(window.ActiveXObject){
            xmlHTTP=new ActiveXObject("Microsoft.XMLHTTP");
        } else if(window.XMLHttpRequest){
            xmlHTTP=new XMLHttpRequest();
        }
        xmlHTTP.open("get","http://localhost:8080/project/Member?", true);
        xmlHTTP.onreadystatechange=function check_status(){
            if(xmlHTTP.readyState == 4 && xmlHTTP.status == 200){
                var ans=xmlHTTP.responseText;
                ans=ans.split(',');
                document.getElementById("username").innerText= ans[0];
                document.getElementById("account").innerText= ans[1];
            }
        } 
        xmlHTTP.send();
        }
        function check(){
            passwd= document.getElementById('passwd');
            mail= document.getElementById('mail');
            phone= document.getElementById('phone');
            mailpattern = /^([A-Za-z0-9_\-\.])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,4})$/;
            phonepattern= /09\d{8}/;
            go= true;
            // passwd
            if(passwd.value==""){
                alert('密碼未填寫!');
                passwd.focus();
                go= false;
                return false;
            } else if(passwd.value.length<5){
                alert('密碼長度不足!');
                passwd.select();
                go= false;
                return false;
            } else{
                go= true;
            }
            // mail
            if(!mailpattern.test(mail.value)){
                alert('信箱格式錯誤!');
                mail.focus();
                go= false;
                return false;
            } else{
                go= true;
            }
            // phone
            if(!phonepattern.test(phone.value)){
                alert('電話未填寫!');
                phone.focus();
                go= false;
                return false;
            } else{
                go= true;
            }
            // submit!!
            if(go){
                alert("修改成功!");
                document.dataForm.submit();
            }
        }
    </script>
</head>
<body class="b" onload="show()">
    <div class="div1">
        <ul>
            <li><a class="index" href="Home.html" >首頁</a></li>
            <li><a class="index" href="Reserved.html">線上訂位</a></li>
            <li><a class="index" href="Menu.html">線上/場 點餐</a></li>
            <li><a class="index" href="Login.html"style="color: rgba(0, 0, 0, 0.463)">會員專區</a></li>
        </ul>
    </div>
    <div>
        <div class="login">
            <span>Member</span>
        </div>
        <div style="float: left;width: 25%;">
        <p><br></p>
        </div>
        <form name="dataForm" method="post" action="http://localhost:8080/project/Alter">
            <fieldset class="account backdrop-blur">
                <p class="text"  ><label for="username">姓名:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label><span id="username"></span></p>
                <p class="text"  ><label for="account">帳號:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label><span id="account"></span></p>
                <p class="text"  ><label for="passwd">密碼:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label><input type="text" name="passwd" id="passwd" size="40" placeholder=" 至少5位元"></p>
                <p class="text"  ><label for="mail">信箱:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label><input type="text" name="mail" id="mail" size="40" placeholder=" xxx@xxx.xxx"></p>
                <p class="text" ><label for="phone">電話:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</label><input type="text" name="phone" id="phone" size="40" placeholder=" 手機號碼"></p>
                <p class="text" style="margin-bottom: 3%;"></p>
                
                <!-- alter undone!!! -->
                <input type="button" value="確認" onclick="check()">
            </fieldset>
        </form>
    </div>
</body>
</html>